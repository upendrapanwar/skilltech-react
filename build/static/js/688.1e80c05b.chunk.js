(self.webpackChunkdev=self.webpackChunkdev||[]).push([[688],{5650:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var n=a(390),s=a(5545),r=a(4942),i=a(7820),l=a(1750),o=a(1495),c=(a(1413),a(9439)),d=a(863),u=a(7864),m=(a(8933),a(2559)),f={first_name:"",last_name:"",email:""},h=function(e){var t=e.closeModal,a=(0,l.I0)(),s=(0,n.useState)(!1),r=(0,c.Z)(s,2),i=(r[0],r[1],(0,n.useState)("")),o=(0,c.Z)(i,2),h=o[0],x=o[1],p=(0,n.useState)(f),b=(0,c.Z)(p,2),j=b[0];b[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Z,{styleClass:"mt-16",children:h}),(0,m.jsxs)("div",{className:"modal-action",children:[(0,m.jsx)("button",{className:"btn btn-ghost",onClick:function(){return t()},children:"Cancel"}),(0,m.jsx)("button",{className:"btn btn-primary px-6",onClick:function(){return function(){if(""===j.first_name.trim())return x("First Name is required!");if(""===j.email.trim())return x("Email id is required!");j.email,j.first_name,j.last_name,a((0,u.c0)({message:"New Lead Added!",status:1})),t()}()},children:"Save"})]})]})},x=a(4165),p=a(5861);var b=function(e){var t=e.extraObject,a=e.closeModal,n=(0,l.I0)(),s=t.message,r=t.type,o=(t._id,t.index,function(){var e=(0,p.Z)((0,x.Z)().mark((function e(){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r===i.CONFIRMATION_MODAL_CLOSE_TYPES.LEAD_DELETE&&n((0,u.c0)({message:"Lead Deleted!",status:1})),a();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:" text-xl mt-8 text-center",children:s}),(0,m.jsxs)("div",{className:"modal-action mt-12",children:[(0,m.jsx)("button",{className:"btn btn-outline",onClick:function(){return a()},children:"Cancel"}),(0,m.jsx)("button",{className:"btn btn-primary w-36",onClick:function(){return o()},children:"Yes"})]})]})};var j=function(){var e,t=(0,l.v9)((function(e){return e.modal})),a=(0,l.v9)((function(e){return e.modal})),n=(0,l.v9)((function(e){return e.modal})),s=(0,l.v9)((function(e){return e.modal})),c=(0,l.v9)((function(e){return e.modal})),d=(0,l.I0)(),u=function(e){d((0,o.Mr)(e))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"modal ".concat(t?"modal-open":""),children:(0,m.jsxs)("div",{className:"modal-box  ".concat("lg"===n?"max-w-5xl":""),children:[(0,m.jsx)("button",{className:"btn btn-sm btn-circle absolute right-2 top-2",onClick:function(){return u()},children:"\u2715"}),(0,m.jsx)("h3",{className:"font-semibold text-2xl pb-6 text-center",children:c}),(e={},(0,r.Z)(e,i.MODAL_BODY_TYPES.SUBSCRIPTION_DETAIL,(0,m.jsx)(h,{closeModal:u,extraObject:s})),(0,r.Z)(e,i.MODAL_BODY_TYPES.CONFIRMATION,(0,m.jsx)(b,{extraObject:s,closeModal:u})),(0,r.Z)(e,i.MODAL_BODY_TYPES.DEFAULT,(0,m.jsx)("div",{})),e)[a]]})})})},g=function(){(0,s.s0)();return(0,n.useEffect)((function(){}),[]),(0,m.jsx)(n.Fragment,{children:(0,m.jsx)(j,{})})}},3601:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var n=a(390),s=a(5545),r=a(5400),i=a(1750),l=a(9565),o=a(8498),c=a(9382),d=a(7820),u=a.n(d),m=a(2559),f=function(){var e=(0,i.I0)(),t=((0,s.s0)(),(0,n.useState)("").noOfNotifications);(0,n.useEffect)((function(){}),[]);return(0,m.jsx)(n.Fragment,{children:(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"navbar  flex justify-between bg-base-100  z-10 shadow-md ",children:[(0,m.jsxs)("div",{className:"",children:[(0,m.jsx)("label",{htmlFor:"left-sidebar-drawer",className:"btn btn-primary drawer-button lg:hidden",children:(0,m.jsx)(o.Z,{className:"h-5 inline-block w-5"})}),(0,m.jsx)("h1",{className:"text-2xl font-semibold ml-2",children:"Admin Dashboard"})]}),(0,m.jsxs)("div",{className:"order-last",children:[(0,m.jsx)("button",{className:"btn btn-ghost ml-4  btn-circle",onClick:function(){e((0,c.ZP)({header:"Notifications",bodyType:u().NOTIFICATION}))},children:(0,m.jsxs)("div",{className:"indicator",children:[(0,m.jsx)(l.Z,{className:"h-6 w-6"}),t>0?(0,m.jsx)("span",{className:"indicator-item badge badge-secondary badge-sm",children:t}):null]})}),(0,m.jsxs)("div",{className:"dropdown dropdown-end ml-4",children:[(0,m.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:(0,m.jsx)("div",{className:"w-10 rounded-full",children:(0,m.jsx)("img",{src:"https://placeimg.com/80/80/people",alt:"profile"})})}),(0,m.jsxs)("ul",{tabIndex:0,className:"menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52",children:[(0,m.jsx)("li",{className:"justify-between",children:(0,m.jsxs)(r.rU,{to:"/app/settings-profile",children:["Profile Settings",(0,m.jsx)("span",{className:"badge",children:"New"})]})}),(0,m.jsx)("li",{className:"",children:(0,m.jsx)(r.rU,{to:"/app/settings-billing",children:"Bill History"})}),(0,m.jsx)("div",{className:"divider mt-0 mb-0"}),(0,m.jsx)("li",{children:(0,m.jsx)("a",{onClick:function(){localStorage.clear(),window.location.href="/"},children:"Logout"})})]})]})]})]})})})}},7864:function(e,t,a){"use strict";a.d(t,{DO:function(){return r},c0:function(){return i}});var n=(0,a(7744).oM)({name:"header",initialState:{pageTitle:"Home",noOfNotifications:15,newNotificationMessage:"",newNotificationStatus:1},reducers:{setPageTitle:function(e,t){e.pageTitle=t.payload.title},removeNotificationMessage:function(e,t){e.newNotificationMessage=""},showNotification:function(e,t){e.newNotificationMessage=t.payload.message,e.newNotificationStatus=t.payload.status}}}),s=n.actions,r=(s.setPageTitle,s.removeNotificationMessage),i=s.showNotification;n.reducer},1495:function(e,t,a){"use strict";a.d(t,{Mr:function(){return i},h7:function(){return r}});var n=(0,a(7744).oM)({name:"modal",initialState:{title:"",isOpen:!1,bodyType:"",size:"",extraObject:{}},reducers:{openModal:function(e,t){alert("opnemodal");var a=t.payload,n=a.title,s=a.bodyType,r=a.extraObject,i=a.size;e.isOpen=!0,e.bodyType=s,e.title=n,e.size=i||"md",e.extraObject=r},closeModal:function(e,t){e.isOpen=!1,e.bodyType="",e.title="",e.extraObject={}}}}),s=n.actions,r=s.openModal,i=s.closeModal;n.reducer},9382:function(e,t,a){"use strict";a.d(t,{o8:function(){return r}});var n=(0,a(7744).oM)({name:"rightDrawer",initialState:{header:"",isOpen:!1,bodyType:"",extraObject:{}},reducers:{openRightDrawer:function(e,t){var a=t.payload,n=a.header,s=a.bodyType,r=a.extraObject;e.isOpen=!0,e.bodyType=s,e.header=n,e.extraObject=r},closeRightDrawer:function(e,t){e.isOpen=!1,e.bodyType="",e.header="",e.extraObject={}}}}),s=n.actions,r=(s.openRightDrawer,s.closeRightDrawer);t.ZP=n.reducer},7820:function(e){e.exports=Object.freeze({MODAL_BODY_TYPES:{USER_DETAIL:"USER_DETAIL",LEAD_ADD_NEW:"LEAD_ADD_NEW",SUBSCRIPTION_DETAIL:"SUBSCRIPTION_DETAIL",CONFIRMATION:"CONFIRMATION",DEFAULT:""},RIGHT_DRAWER_TYPES:{NOTIFICATION:"NOTIFICATION",CALENDAR_EVENTS:"CALENDAR_EVENTS"},CONFIRMATION_MODAL_CLOSE_TYPES:{LEAD_DELETE:"LEAD_DELETE"}})},863:function(e,t,a){"use strict";var n=a(2559);t.Z=function(e){var t=e.styleClass,a=e.children;return(0,n.jsx)("p",{className:"text-center  text-error ".concat(t),children:a})}},4381:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var n=a(9439),s=a(390),r=a(5545),i=a(5400),l=a(3601),o=a(5650),c=a(2133),d=a(4203),u=a(8046),m=a(1082),f=a(863),h=(a(4519),a.p,a(2559)),x=function(){return(0,h.jsx)("div",{className:"hero min-h-full rounded-l-xl bg-base-200",children:(0,h.jsx)("div",{className:"hero-content py-12",children:(0,h.jsx)("div",{className:"max-w-md",children:(0,h.jsx)("h1",{className:"text-3xl text-center font-bold ",children:"Skilltech"})})})})},p=function(){var e=JSON.parse(localStorage.getItem("authInfo"));(0,r.TH)();console.log("authInfo=",e);var t=(0,s.useState)(!1),a=(0,n.Z)(t,2),p=a[0],b=a[1],j=(0,s.useState)(""),g=(0,n.Z)(j,2),N=g[0],v=(g[1],(0,s.useState)(e?e.id:null)),w=(0,n.Z)(v,2),O=(w[0],w[1],(0,r.s0)());console.log("authInfo=",e),(0,s.useEffect)((function(){}),[]),m.Am.configure();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.Z,{}),(0,h.jsx)("div",{children:(0,h.jsx)("div",{className:"min-h-screen bg-base-200 flex items-center",children:(0,h.jsx)("div",{className:"card mx-auto w-full max-w-5xl  shadow-xl",children:(0,h.jsxs)("div",{className:"grid  md:grid-cols-2 grid-cols-1  bg-base-100 rounded-xl",children:[(0,h.jsx)("div",{className:"",children:(0,h.jsx)(x,{})}),(0,h.jsxs)("div",{className:"py-24 px-10",children:[(0,h.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"Login"}),(0,h.jsx)(d.J9,{initialValues:{email:"",password:""},onSubmit:function(e,t){!function(e,t){var a=t.resetForm;b(!0),console.log("handlesubmit"),u.Z.post("common/signin",e).then((function(e){if(m.Am.dismiss(),e.data.status){m.Am.success(e.data.message,{position:"top-center",autoClose:3e3});var t={expTime:e.data.data.expTime,id:e.data.data._id,token:e.data.data.token,name:e.data.data.firstname+" "+e.data.data.surname,email:e.data.data.email,role:e.data.data.role};localStorage.setItem("authInfo",JSON.stringify(t)),localStorage.setItem("isLoggedIn",1),a(),"admin"===e.data.data.role&&O("/admin/admin-dashboard")}else a(),m.Am.error(e.data.message,{autoClose:3e3})})).catch((function(e){m.Am.dismiss(),e.response&&(a(),m.Am.error(e.response.data.message,{autoClose:3e3}))})).finally((function(){setTimeout((function(){b(!1)}),300)}))}(e,{resetForm:t.resetForm})},validationSchema:c.Z,children:function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,r=e.handleBlur,l=e.handleSubmit;e.isValid,e.isSubmitting;return(0,h.jsxs)("form",{onSubmit:l,children:[(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsxs)("div",{className:"form-control w-full mt-4",children:[(0,h.jsx)("label",{className:"label",htmlFor:"exampleInputEmail1",children:(0,h.jsx)("span",{className:"label-text text-base-content",children:"Email address"})}),(0,h.jsx)("input",{type:"email",className:"input input-bordered w-full",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"",name:"email",onChange:s,onBlur:r,value:t.email}),n.email&&a.email?(0,h.jsx)("small",{className:"text-danger",children:a.email}):null]}),(0,h.jsxs)("div",{className:"form-control w-full mt-4",children:[(0,h.jsx)("label",{className:"label",htmlFor:"exampleInputPassword1",children:(0,h.jsx)("span",{className:"label-text text-base-content",children:"Password"})}),(0,h.jsx)("input",{type:"password",name:"password",className:"input input-bordered w-full",id:"exampleInputPassword1",placeholder:"",onChange:s,onBlur:r,value:t.password}),n.password&&a.password?(0,h.jsx)("small",{className:"text-danger",children:a.password}):null]})]}),(0,h.jsx)("div",{className:"text-right text-primary",children:(0,h.jsx)(i.rU,{to:"#",children:(0,h.jsx)("span",{className:"text-sm inline-block hover:text-primary hover:underline hover:cursor-pointer transition duration-200",children:"Forgot Password?"})})}),(0,h.jsx)(f.Z,{styleClass:"mt-8",children:N}),(0,h.jsx)("button",{type:"submit",className:"btn mt-2 w-full btn-primary"+(p?" loading":""),children:"Login"})]})}})]})]})})})}),(0,h.jsx)(o.Z,{})]})}},8933:function(e,t,a){"use strict";var n,s=a(4942),r=a(3433),i=a(4165),l=a(5861),o=a(7744),c=a(8046),d=(0,o.hg)("/admin/agent-subscription-by-id",function(){var e=(0,l.Z)((0,i.Z)().mark((function e(t,a){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.extra,e.next=3,c.Z.get("/admin/agent-subscription-by-id/".concat(t),{});case 3:return n=e.sent,console.log("response=",n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),u=(0,o.oM)({name:"subscriptionDetails",initialState:{isLoading:!1,leads:[]},reducers:{addNewLead:function(e,t){var a=t.payload.newLeadObj;e.leads=[].concat((0,r.Z)(e.leads),[a])},deleteLead:function(e,t){var a=t.payload.index;e.leads.splice(a,1)}},extraReducers:(n={},(0,s.Z)(n,d.pending,(function(e){e.isLoading=!0})),(0,s.Z)(n,d.fulfilled,(function(e,t){e.subscriptionDetails=t.payload.data,e.isLoading=!1})),(0,s.Z)(n,d.rejected,(function(e){e.isLoading=!1})),n)}),m=u.actions;m.addNewLead,m.deleteLead,u.reducer},2133:function(e,t,a){"use strict";var n=a(5107);t.Z=n.Ry().shape({email:n.Z_().email().required("Email is required"),password:n.Z_().required("Password is required.").min(6,"Password is too short - should be 6 chars minimum.").max(20,"Password is too long - should be 20 chars maximum.")})},5987:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(3366);function s(e,t){if(null==e)return{};var a,s,r=(0,n.Z)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}},8498:function(e,t,a){"use strict";var n=a(5987),s=a(390),r=["title","titleId"];var i=s.forwardRef((function(e,t){var a=e.title,i=e.titleId,l=(0,n.Z)(e,r);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":i},l),a?s.createElement("title",{id:i},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}));t.Z=i},9565:function(e,t,a){"use strict";var n=a(5987),s=a(390),r=["title","titleId"];var i=s.forwardRef((function(e,t){var a=e.title,i=e.titleId,l=(0,n.Z)(e,r);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":i},l),a?s.createElement("title",{id:i},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"}))}));t.Z=i}}]);
//# sourceMappingURL=688.1e80c05b.chunk.js.map