"use strict";(self.webpackChunkdev=self.webpackChunkdev||[]).push([[3392],{3817:(e,a,s)=>{s.r(a),s.d(a,{default:()=>A});var t=s(2483),r=s(3376),o=s(9517),n=s(2595),d=(s(1728),s(3117)),l=s(1222),i=s(9918),c=(s(5549),s(614),s(6976),s(4848)),m=s(7757),u=s(3074),p=s(3191),x=s(1914),h=(s(7650),s(82)),b=(s(5699),s(5442)),f=s(1935),g=(s(5989),s(6723));const A=()=>{const[e,a]=(0,t.useState)([]),[s,A]=(0,t.useState)([]),[j,w]=(0,t.useState)([]),[S,_]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),[N,R]=(0,t.useState)(0),E=(0,m.wA)(),[D,k]=(0,t.useState)({startDate:new Date,endDate:new Date}),F=JSON.parse(localStorage.getItem("authInfo"));(0,r.zy)();console.log("authInfo=",F);let[q,C]=(0,t.useState)(!1);const[I,M]=(0,t.useState)("");let[O,P]=(0,t.useState)(F?F.id:null);(0,r.Zp)();const{newNotificationMessage:T,newNotificationStatus:z}=(0,t.useState)(""),B="defaulted-subscription-paymentof-ambassador";(0,t.useEffect)((()=>{""!==T&&(1===z&&x.hm.success(T,"Success"),0===z&&x.hm.error(T,"Error"),E((0,u.fd)())),H()}),[]),i.oR.configure();const H=()=>{l.A.get("admin/".concat(B)).then((e=>{if(console.log("REports Data: ",e.data.data),e.data.status){i.oR.success(e.data.message,{position:"top-center",autoClose:3e3}),A(e.data.data);var a=e.data.data;let t=[];a.forEach((function(e){t.push({Ambassador_firstname:e.userid.firstname,Ambassador_lastname:e.userid.surname,referral_code:e.userid.referral_code,payment_status:e.payment_status})})),w([{name:"AMBASSADOR FIRST NAME",selector:(e,a)=>e.Ambassador_firstname,cell:e=>e.Ambassador_firstname,sortable:!0},{name:"AMBASSADOR LAST NAME",selector:(e,a)=>e.Ambassador_lastname,cell:e=>e.Ambassador_lastname,sortable:!0},{name:"AMBASSADOR REFERRAL CODE",selector:(e,a)=>e.referral_code,cell:e=>(0,g.jsx)("span",{children:e.referral_code}),sortable:!0},{name:"PAIMENT FAILURE REASON",selector:(e,a)=>e.payment_status,cell:e=>(0,g.jsx)("span",{children:"cancel"===e.payment_status?"Payment failed":"Payment not done"}),sortable:!0}]),v(t),console.log(s)}})).catch((e=>{i.oR.dismiss(),e.response&&i.oR.error(e.response.data.message,{autoClose:3e3}),console.log(e)})),console.log("apiUrl="+B)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"drawer drawer-mobile",children:[(0,g.jsx)("input",{id:"left-sidebar-drawer",type:"checkbox",className:"drawer-toggle"}),(0,g.jsxs)("div",{className:"drawer-content flex flex-col ",children:[(0,g.jsx)(o.A,{}),(0,g.jsx)("main",{className:"flex-1 overflow-y-auto pt-2 px-2  bg-base-200",children:(0,g.jsxs)("div",{className:"bg-zinc-50 px-3 py-3 rounded-xl bg-white shadow-mx border border-zinc-200",children:[(0,g.jsx)("div",{className:"text-xl font-semibold py-1 px-2",children:"Defaulted Subscription Payment of Ambassador"}),(0,g.jsx)("div",{className:"divider mt-2"}),(0,g.jsx)("div",{className:"",children:(0,g.jsx)("div",{className:"flex w-[100%] align-center",children:(0,g.jsx)(d.l1,{initialValues:{start_date:"",end_date:""},validationSchema:h.A,onSubmit:(e,a)=>{let{resetForm:t}=a;((e,a)=>{let{resetForm:t}=a;console.log("This is ambassador handleSubmit values check:",e);let r="defaulted-subscription-paymentof-ambassador";e.start_date&&(r+="/"+e.start_date),e.end_date&&(r+="/"+e.end_date),l.A.get("admin/".concat(r),e).then((e=>{if(e.data.status){i.oR.success(e.data.message,{position:"top-center",autoClose:3e3}),A(e.data.data),console.log("userReport datewise:",e.data.data),console.log("userReport=",s);var a=e.data.data;let t=[];a.forEach((function(e){t.push({Ambassador_firstname:e.userid.firstname,Ambassador_lastname:e.userid.surname,referral_code:e.userid.referral_code,payment_status:e.payment_status})})),v(t)}})).catch((e=>{i.oR.dismiss(),e.response&&(t(),i.oR.error(e.response.data.message,{autoClose:3e3})),console.log(e)}))})(e,{resetForm:t})},children:e=>{let{resetForm:a}=e;return(0,g.jsxs)(d.lV,{className:"flex w-[100%] justify-between align-center py-3 rounded-sl bg-base-100 rounded px-2",children:[(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("label",{htmlFor:"start_date",children:"Start Date"}),(0,g.jsx)(d.D0,{name:"start_date",type:"date",className:"input input-bordered w-full"}),(0,g.jsx)(d.Kw,{name:"start_date",component:"div",className:"text-red-500 text-sm"})]}),(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("label",{htmlFor:"end_date",children:"End Date"}),(0,g.jsx)(d.D0,{name:"end_date",type:"date",className:"input input-bordered w-full"}),(0,g.jsx)(d.Kw,{name:"end_date",component:"div",className:"text-red-500 text-sm"})]}),(0,g.jsxs)("div",{className:"flex align-center justify-between mt-6",children:[(0,g.jsx)("button",{type:"submit",className:"btn btn-primary inline-block px-4 py-3 text-sm font-semibold text-center  text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",children:"Search"}),(0,g.jsx)("button",{type:"button",className:"btn btn-primary inline-block px-4 py-3 text-sm font-semibold text-center  text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",onClick:()=>(e=>{e(),H()})(a),children:"Reset"})]})]})}})})}),(0,g.jsx)("div",{className:"overflow-x-auto w-full",children:(0,g.jsx)(f.A,{columns:j,data:y,children:(0,g.jsx)(b.Ay,{title:"Table",noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,pagination:!0,highlightOnHover:!0,customStyles:{rows:{style:{minHeight:"50px"}},cells:{style:{whiteSpace:"nowrap"}}}})})})]})})]}),(0,g.jsx)(c.A,{})]}),(0,g.jsx)(p.A,{}),(0,g.jsx)(n.A,{})]})}},1728:(e,a,s)=>{s.d(a,{A:()=>r});var t=s(947);const r=t.Ik().shape({email:t.Yj().email().required("Email is required"),password:t.Yj().required("Password is required.").min(6,"Password is too short - should be 6 chars minimum.").max(20,"Password is too long - should be 20 chars maximum.")})},82:(e,a,s)=>{s.d(a,{A:()=>r});var t=s(947);const r=t.Ik().shape({start_date:t.p6().required("Start date is required"),end_date:t.p6().required("End date is required")})}}]);
//# sourceMappingURL=3392.e9cfce05.chunk.js.map