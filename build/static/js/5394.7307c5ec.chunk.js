"use strict";(self.webpackChunkdev=self.webpackChunkdev||[]).push([[5394],{5512:(e,a,s)=>{s.r(a),s.d(a,{default:()=>A});var r=s(2483),t=s(3376),d=s(9891),i=s(9517),o=s(2595),n=(s(1728),s(3117)),c=s(1222),l=s(9918),b=(s(5549),s(614),s(6976),s(4848)),u=s(7757),m=s(3074),p=s(3191),f=s(1914),x=(s(7650),s(82)),h=s(5699),j=s(6723);const A=()=>{const e=[{title:"Active Subcripton of Ambassador",url:"active-subscribed-ambassador"},{title:"Active Subscription of Subscriber",url:"active-subscribed-subscriber"},{title:"Defaulted Subscription Payment of Ambassador",url:"defaulted-subscription-paymentof-ambassador"},{title:"Defaulted Subscription Payment of Subscribers",url:"defaulted-subscription-paymentof-subscriber"},{title:"Subscription cancelled by Ambassador",url:"subscription-cancelledby-ambassador"},{title:"Subscription cancelled by Subscriber",url:"subscription-cancelledby-subscriber"},{title:"Referral Per Ambassador",url:"active-inactive-referral-per-ambassador"},{title:"Active Referral Per Ambassador",url:"active-referral-per-ambassador"},{title:"Inactive Referral Per Ambassador",url:"inactive-referral-per-ambassador"},{title:"Payment due to ambassador",url:"payment-due-to-ambassador"}],[a,s]=(0,r.useState)("/admin/active-subscribed-ambassador"),[A,N]=(0,r.useState)([]),[v,_]=(0,r.useState)([]),[S,y]=(0,r.useState)([]),[g,w]=(0,r.useState)([]),[D,R]=(0,r.useState)([]),[F,I]=(0,r.useState)([]),[C,P]=(0,r.useState)([]),[L,k]=(0,r.useState)([]),[V,q]=(0,r.useState)([]),[G,H]=(0,r.useState)([]),[U,E]=(0,r.useState)([]),[z,K]=(0,r.useState)([]),[M,T]=(0,r.useState)([]),[Y,J]=(0,r.useState)(0),O=(0,u.wA)(),[Z,B]=(0,r.useState)({startDate:new Date,endDate:new Date}),Q=JSON.parse(localStorage.getItem("authInfo"));(0,t.zy)();console.log("authInfo=",Q);let[W,X]=(0,r.useState)(!1);const[$,ee]=(0,r.useState)("");let[ae,se]=(0,r.useState)(Q?Q.id:null);(0,t.Zp)();const{newNotificationMessage:re,newNotificationStatus:te}=(0,r.useState)(""),de="active-subscribed-ambassador";(0,r.useEffect)((()=>{""!==re&&(1===te&&f.hm.success(re,"Success"),0===te&&f.hm.error(re,"Error"),O((0,m.fd)())),ie()}),[]),l.oR.configure();const ie=()=>{y(de),c.A.get("admin/".concat(de)).then((e=>{e.data.status&&(l.oR.success(e.data.message,{position:"top-center",autoClose:3e3}),w(e.data.data),console.log(g))})).catch((e=>{l.oR.dismiss(),e.response&&l.oR.error(e.response.data.message,{autoClose:3e3}),console.log(e)})),console.log("apiUrl="+de)};return console.log("activeSubscribedAmbassador",g),console.log("activeSubscribedSubscriber",D),console.log("defaultedSubscriptionPaymentofambassador",F),console.log("defaultedSubscriptionPaymentofsubscriber",C),console.log("subscriptionCancelledbyAmbassador",L),console.log("subscriptionCancelledbySubscriber",V),console.log("ActiveInactiveReferralPerAmbassador",G),console.log("paymentDueToAmbassador",M),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"drawer drawer-mobile",children:[(0,j.jsx)("input",{id:"left-sidebar-drawer",type:"checkbox",className:"drawer-toggle"}),(0,j.jsxs)("div",{className:"drawer-content flex flex-col ",children:[(0,j.jsx)(i.A,{}),(0,j.jsx)("main",{className:"flex-1 overflow-y-auto pt-2 px-2  bg-base-200",children:(0,j.jsxs)("div",{className:"bg-zinc-50 px-3 py-3 rounded-xl bg-white shadow-mx border border-zinc-200",children:[(0,j.jsx)("div",{className:"text-xl font-semibold py-1 px-2",children:"Report"}),(0,j.jsx)("div",{className:"divider mt-2"}),(0,j.jsx)("div",{className:"",children:(0,j.jsx)("div",{className:"flex w-[100%] align-center",children:(0,j.jsx)(n.l1,{initialValues:{start_date:"",end_date:"",report_type:null},validationSchema:x.A,onSubmit:(a,r)=>{let{resetForm:t}=r;((a,r)=>{let{resetForm:t}=r;console.log(a),N(a),J(a.report_type);const d=e[a.report_type].url;var i=d;y(d),console.log("API url:",d),s("/admin/".concat(d)),a.start_date&&(i+="/"+a.start_date),a.end_date&&(i+="/"+a.end_date),c.A.get("admin/".concat(i),a).then((e=>{e.data.status?(l.oR.success(e.data.message,{position:"top-center",autoClose:3e3}),"active-subscribed-ambassador"===d&&w(e.data.data),"active-subscribed-subscriber"===d&&R(e.data.data),"defaulted-subscription-paymentof-ambassador"===d&&I(e.data.data),"defaulted-subscription-paymentof-subscriber"===d&&P(e.data.data),"subscription-cancelledby-ambassador"===d&&k(e.data.data),"subscription-cancelledby-subscriber"===d&&q(e.data.data),"active-inactive-referral-per-ambassador"===d&&H(e.data.data),"active-referral-per-ambassador"===d&&E(e.data.data),"inactive-referral-per-ambassador"===d&&K(e.data.data),"payment-due-to-ambassador"===d&&T(e.data.data),console.log("reportApiUrl=",S)):("active-subscribed-ambassador"===d&&w(""),"active-subscribed-subscriber"===d&&R(""),"defaulted-subscription-paymentof-ambassador"===d&&I(""),"defaulted-subscription-paymentof-subscriber"===d&&P(""),"subscription-cancelledby-ambassador"===d&&k(""),"subscription-cancelledby-subscriber"===d&&q(""),"active-inactive-referral-per-ambassador"===d&&H(""),"active-referral-per-ambassador"===d&&E(""),"inactive-referral-per-ambassador"===d&&K(""),"payment-due-to-ambassador"===d&&T(""))})).catch((e=>{l.oR.dismiss(),e.response&&(t(),l.oR.error(e.response.data.message,{autoClose:3e3})),console.log(e)}))})(a,{resetForm:t})},children:a=>{let{resetForm:r}=a;return(0,j.jsxs)(n.lV,{className:"flex w-[100%] justify-between align-center py-3 rounded-sl bg-base-100 rounded px-2",children:[(0,j.jsxs)("div",{className:"flex flex-col",children:[(0,j.jsx)("label",{htmlFor:"start_date",children:"Start Date"}),(0,j.jsx)(n.D0,{name:"start_date",type:"date",className:"input input-bordered w-full max-w-xs"}),(0,j.jsx)(n.Kw,{name:"start_date",component:"div",className:"text-red-500 text-sm"})]}),(0,j.jsxs)("div",{className:"flex flex-col",children:[(0,j.jsx)("label",{htmlFor:"end_date",children:"End Date"}),(0,j.jsx)(n.D0,{name:"end_date",type:"date",className:"input input-bordered w-full max-w-xs"}),(0,j.jsx)(n.Kw,{name:"end_date",component:"div",className:"text-red-500 text-sm"})]}),(0,j.jsxs)("div",{className:"flex flex-col",children:[(0,j.jsx)("label",{htmlFor:"report_type",children:"Report Type"}),(0,j.jsxs)(n.D0,{as:"select",name:"report_type",id:"report_type",className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 w-64",children:[(0,j.jsx)("option",{value:"",children:"Select an option"}),(0,j.jsx)("option",{value:0,children:" Active Subscritpion of Ambassador"}),(0,j.jsx)("option",{value:1,children:" Active Subscription of Subscriber"}),(0,j.jsx)("option",{value:2,children:" Defaulted Subscription payment of Ambassador"}),(0,j.jsx)("option",{value:3,children:" Defaulted Subscription pyament of Subscriber"}),(0,j.jsx)("option",{value:4,children:" Cancellation of Subscription-Cancelled by Ambassador"}),(0,j.jsx)("option",{value:5,children:" Cancellation of Subscriptioin-Cancelled by Subcriber"}),(0,j.jsx)("option",{value:6,children:" Referral Per Ambassador"}),(0,j.jsx)("option",{value:7,children:" Active Referral Per Ambassador"}),(0,j.jsx)("option",{value:8,children:" Inactive Referral Per Ambassador"}),(0,j.jsx)("option",{value:9,children:" Payment due to Ambassador"})]}),(0,j.jsx)(n.Kw,{name:"report_type",component:"div",className:"text-red-500 text-sm"})]}),(0,j.jsxs)("div",{className:"flex align-center justify-between mt-6",children:[(0,j.jsx)("button",{type:"submit",className:"btn btn-primary inline-block px-4 py-3 text-sm font-semibold text-center  text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",children:"Search"}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary inline-block px-4 py-3 text-sm font-semibold text-center  text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",onClick:()=>(a=>{a();const r=e[Y].url;y(r),s("/admin/".concat(r)),c.A.get("admin/".concat(r),A).then((e=>{if(e.data.status){if(l.oR.success(e.data.message,{position:"top-center",autoClose:3e3}),"active-subscribed-ambassador"===r&&w(e.data.data),"active-subscribed-subscriber"===r&&R(e.data.data),"defaulted-subscription-paymentof-ambassador"===r){const a=e.data.data.filter((e=>null!==e.userid&&"cancel payment"===e.payment_status));I(a)}if("defaulted-subscription-paymentof-subscriber"===r){const a=e.data.data.filter((e=>null!==e.userid&&"cancel payment"===e.payment_status));P(a)}if("subscription-cancelledby-ambassador"===r){const a=e.data.data.filter((e=>null!==e.userId));k(a)}if("subscription-cancelledby-subscriber"===r){const a=e.data.data.filter((e=>null!==e.userId));q(a)}"active-inactive-referral-per-ambassador"===r&&H(e.data.data),"active-referral-per-ambassador"===r&&E(e.data.data),"inactive-referral-per-ambassador"===r&&K(e.data.data),"payment-due-to-ambassador"===r&&T(e.data.data),console.log("reportApiUrl=",S)}else"active-subscribed-ambassador"===r&&w(""),"active-subscribed-subscriber"===r&&R(""),"defaulted-subscription-paymentof-ambassador"===r&&I(""),"defaulted-subscription-paymentof-subscriber"===r&&P(""),"subscription-cancelledby-ambassador"===r&&k(""),"subscription-cancelledby-subscriber"===r&&q(""),"active-inactive-referral-per-ambassador"===r&&H(""),"active-referral-per-ambassador"===r&&E(""),"inactive-referral-per-ambassador"===r&&K(""),"payment-due-to-ambassador"===r&&T("")})).catch((e=>{l.oR.dismiss(),e.response&&(a(),l.oR.error(e.response.data.message,{autoClose:3e3})),console.log(e)}))})(r),children:"Reset"})]})]})}})})}),(0,j.jsx)(h.A,{title:e[Y].title||"",topMargin:"mt-2",children:(0,j.jsx)("div",{className:"overflow-x-auto w-full",children:(0,j.jsxs)("table",{className:"table w-full",children:[(0,j.jsx)("thead",{children:[["Ambassador First Name","Ambassador Last Name","Ambassador Referral Code","Date of HVG subscription","Subscription Status","Date of ambassador sign up"],["Subscriber First Name","Subscriber Last Name","Date of HVG subscription","Subscription Status"],["Ambassador First Name","Ambassador Last Name","Ambassador Referral Code","Payment Failure Reason"],["Subscriber First Name","Subscriber Last Name","Payment Failure Reason"],["Ambassador First Name","Ambassador Last Name","Ambassador Referral Code","Date of HVG subscription Cancellation"],["Subscriber First Name","Subscriber Last Name","Date of HVG subscription Cancellation"],["Subscriber First Name","Subcriber Last Name","Ambassador Referral Code Used ","Referred Ambassador First Name","Referred Ambassador Last Name","\tDate of use of referral code","HVG Subscription status"],["Subscriber First Name","Subcriber Last Name","Ambassador Referral Code Used ","Referred Ambassador First Name","Referred Ambassador Last Name","\tDate of use of referral code"],["Subscriber First Name","Subcriber Last Name","Ambassador Referral Code Used ","Referred Ambassador First Name","Referred Ambassador Last Name","\tDate of use of referral code"],["Ambassador First Name","Ambassador Last Name","Ambassador Referral Code","Current active referrals","Total amount due this month"]][Y].map(((e,a)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("td",{children:e},a)})))}),(0,j.jsxs)("tbody",{children:["active-subscribed-ambassador"===S&&g.length>0&&g.map(((e,a)=>(0,j.jsxs)("tr",{children:[""!==e.firstname&&(0,j.jsxs)("td",{children:[e.firstname?e.firstname:"N/A"," "]}),""!==e.surname&&(0,j.jsx)("td",{children:e.surname?e.surname:"N/A"}),""!==e.referral_code&&(0,j.jsx)("td",{children:e.referral_code?e.referral_code:"N/A"}),""!==e.subscription_date&&(0,j.jsx)("td",{children:e.subscription_date?new Date(e.subscription_date).toLocaleDateString():"N/A"}),""!==e.subscription_status&&(0,j.jsx)("td",{children:e.subscription_status?e.subscription_status:"N/A"}),""!==e.ambassador_date&&(0,j.jsx)("td",{children:e.ambassador_date?new Date(e.ambassador_date).toLocaleDateString():"N/A"})]},a))),"active-subscribed-subscriber"===S&&D.length>0&&D.map(((e,a)=>(0,j.jsxs)("tr",{children:[(0,j.jsxs)("td",{children:[e.firstname?e.firstname:"N/A"," "]}),(0,j.jsx)("td",{children:e.surname?e.surname:"N/A"}),(0,j.jsx)("td",{children:e.subscription_date?new Date(e.subscription_date).toLocaleDateString():"N/A"}),(0,j.jsx)("td",{children:e.subscription_status?e.subscription_status:"N/A"})]},a))),"defaulted-subscription-paymentof-ambassador"===S&&F&&F.map(((e,a)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.userid&&e.userid.firstname?e.userid.firstname:"N/A"}),(0,j.jsx)("td",{children:e.userid&&e.userid.surname?e.userid.surname:"N/A"}),(0,j.jsx)("td",{children:e.userid&&e.userid.referral_code?e.userid.referral_code:"N/A"}),(0,j.jsx)("td",{children:e.payment_status="Payment failed"})]},a)}))),"defaulted-subscription-paymentof-subscriber"===S&&C&&C.map(((e,a)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.userid&&e.userid.firstname?e.userid.firstname:"N/A"}),(0,j.jsx)("td",{children:e.userid&&e.userid.surname?e.userid.surname:"N/A"}),(0,j.jsx)("td",{children:"cancel"===e.payment_status?"Payment failed":""})]},a)}))),"subscription-cancelledby-ambassador"===S&&L.map(((e,a)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.userId&&e.userId.firstname?e.userId.firstname:"N/A"}),(0,j.jsx)("td",{children:e.userId&&e.userId.surname?e.userId.surname:"N/A"}),(0,j.jsx)("td",{children:e.userId&&e.userId.referral_code?e.userId.referral_code:"N/A"}),(0,j.jsx)("td",{children:e.cancellation_date?new Date(e.cancellation_date).toLocaleDateString():"N/A"})]},a)}))),"subscription-cancelledby-subscriber"===S&&V.map(((e,a)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.userId&&e.userId.firstname?e.userId.firstname:"N/A"}),(0,j.jsx)("td",{children:e.userId&&e.userId.surname?e.userId.surname:"N/A"}),(0,j.jsx)("td",{children:e.cancellation_date?new Date(e.cancellation_date).toLocaleDateString():"N/A"})]},a)}))),"active-inactive-referral-per-ambassador"===S&&G.map(((e,a)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.Subscriber_firstname||"N/A"}),(0,j.jsx)("td",{children:e.Subscriber_lastname||"N/A"}),(0,j.jsx)("td",{children:e.Ambassador_referralcode||"N/A"}),(0,j.jsx)("td",{children:e.Ambassador_firstname||"N/A"}),(0,j.jsx)("td",{children:e.Ambassador_lastname||"N/A"}),(0,j.jsx)("td",{children:e.Date_of_use_of_referral_code||"N/A"}),(0,j.jsx)("td",{children:e.HVG_Subscription_status||"N/A"})]},a)}))),"active-referral-per-ambassador"===S&&U.map(((e,a)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.Subscriber_firstname||"N/A"}),(0,j.jsx)("td",{children:e.Subscriber_lastname||"N/A"}),(0,j.jsx)("td",{children:e.Ambassador_referralcode||"N/A"}),(0,j.jsx)("td",{children:e.Ambassador_firstname||"N/A"}),(0,j.jsx)("td",{children:e.Ambassador_lastname||"N/A"}),(0,j.jsx)("td",{children:e.Date_of_use_of_referral_code||"N/A"})]},a)}))),"inactive-referral-per-ambassador"===S&&z.map(((e,a)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.Subscriber_firstname||"N/A"}),(0,j.jsx)("td",{children:e.Subscriber_lastname||"N/A"}),(0,j.jsx)("td",{children:e.Ambassador_referralcode||"N/A"}),(0,j.jsx)("td",{children:e.Ambassador_firstname||"N/A"}),(0,j.jsx)("td",{children:e.Ambassador_lastname||"N/A"}),(0,j.jsx)("td",{children:e.Date_of_use_of_referral_code||"N/A"})]},a)}))),"payment-due-to-ambassador"===S&&M.map(((e,a)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.Ambassador_firstname}),(0,j.jsx)("td",{children:e.Ambassador_lastname}),(0,j.jsx)("td",{children:e.Ambassador_referralcode}),(0,j.jsx)("td",{children:e.referral_count}),(0,j.jsx)("td",{children:e.due_amount})]},a)}))),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{style:{"text-align":"right"},colspan:"6",children:(0,j.jsx)(d.N_,{className:"inline-block px-4 py-3 text-sm font-semibold text-center text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",to:a,children:"View More"})})})]})]})})})]})})]}),(0,j.jsx)(b.A,{})]}),(0,j.jsx)(p.A,{}),(0,j.jsx)(o.A,{})]})}},1728:(e,a,s)=>{s.d(a,{A:()=>t});var r=s(947);const t=r.Ik().shape({email:r.Yj().email().required("Email is required"),password:r.Yj().required("Password is required.").min(6,"Password is too short - should be 6 chars minimum.").max(20,"Password is too long - should be 20 chars maximum.")})},82:(e,a,s)=>{s.d(a,{A:()=>t});var r=s(947);const t=r.Ik().shape({start_date:r.p6().required("Start date is required"),end_date:r.p6().required("End date is required")})}}]);
//# sourceMappingURL=5394.7307c5ec.chunk.js.map