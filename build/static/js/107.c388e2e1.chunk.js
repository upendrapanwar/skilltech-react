"use strict";(self.webpackChunkdev=self.webpackChunkdev||[]).push([[107],{3419:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var l=s(2483),t=s(3376),n=s(9891),r=s(3373),i=s(2595),d=s(1728),o=s(3117),m=s(1222),c=s(9918),u=s(5549);s(3664);s.p;var x=s(6723);const h=()=>(0,x.jsx)("div",{className:"hero min-h-full rounded-l-xl bg-base-200",children:(0,x.jsx)("div",{className:"hero-content py-12",children:(0,x.jsx)("div",{className:"max-w-md",children:(0,x.jsx)("h1",{className:"text-3xl text-center font-bold ",children:"Skilltech"})})})}),p=()=>{const e=JSON.parse(localStorage.getItem("authInfo"));(0,t.zy)();console.log("authInfo=",e);let[a,s]=(0,l.useState)(!1);const[p,b]=(0,l.useState)("");let[g,j]=(0,l.useState)(e?e.id:null);const f=(0,t.Zp)();console.log("authInfo=",e),(0,l.useEffect)((()=>{}),[]),c.oR.configure();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.A,{}),(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"min-h-screen bg-base-200 flex items-center",children:(0,x.jsx)("div",{className:"card mx-auto w-full max-w-5xl  shadow-xl",children:(0,x.jsxs)("div",{className:"grid  md:grid-cols-2 grid-cols-1  bg-base-100 rounded-xl",children:[(0,x.jsx)("div",{className:"",children:(0,x.jsx)(h,{})}),(0,x.jsxs)("div",{className:"py-24 px-10",children:[(0,x.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"Login"}),(0,x.jsx)(o.l1,{initialValues:{email:"",password:""},onSubmit:(e,a)=>{let{resetForm:l}=a;((e,a)=>{let{resetForm:l}=a;s(!0),console.log("handlesubmit"),m.A.post("common/signin",e).then((e=>{if(c.oR.dismiss(),e.data.status){c.oR.success(e.data.message,{position:"top-center",autoClose:3e3});let a={expTime:e.data.data.expTime,id:e.data.data._id,token:e.data.data.token,name:e.data.data.firstname+" "+e.data.data.surname,email:e.data.data.email,role:e.data.data.role};localStorage.setItem("authInfo",JSON.stringify(a)),localStorage.setItem("isLoggedIn",1),l(),"admin"===e.data.data.role&&f("/admin/admin-dashboard")}else l(),c.oR.error(e.data.message,{autoClose:3e3})})).catch((e=>{c.oR.dismiss(),e.response&&(l(),c.oR.error(e.response.data.message,{autoClose:3e3}))})).finally((()=>{setTimeout((()=>{s(!1)}),300)}))})(e,{resetForm:l})},validationSchema:d.A,children:e=>{let{values:s,errors:l,touched:t,handleChange:r,handleBlur:i,handleSubmit:d,isValid:o,isSubmitting:m}=e;return(0,x.jsxs)("form",{onSubmit:d,children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"form-control w-full mt-4",children:[(0,x.jsx)("label",{className:"label",htmlFor:"exampleInputEmail1",children:(0,x.jsx)("span",{className:"label-text text-base-content",children:"Email address"})}),(0,x.jsx)("input",{type:"email",className:"input input-bordered w-full",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"",name:"email",onChange:r,onBlur:i,value:s.email}),t.email&&l.email?(0,x.jsx)("small",{className:"text-danger",children:l.email}):null]}),(0,x.jsxs)("div",{className:"form-control w-full mt-4",children:[(0,x.jsx)("label",{className:"label",htmlFor:"exampleInputPassword1",children:(0,x.jsx)("span",{className:"label-text text-base-content",children:"Password"})}),(0,x.jsx)("input",{type:"password",name:"password",className:"input input-bordered w-full",id:"exampleInputPassword1",placeholder:"",onChange:r,onBlur:i,value:s.password}),t.password&&l.password?(0,x.jsx)("small",{className:"text-danger",children:l.password}):null]})]}),(0,x.jsx)("div",{className:"text-right text-primary",children:(0,x.jsx)(n.N_,{to:"#",children:(0,x.jsx)("span",{className:"text-sm inline-block hover:text-primary hover:underline hover:cursor-pointer transition duration-200",children:"Forgot Password?"})})}),(0,x.jsx)(u.A,{styleClass:"mt-8",children:p}),(0,x.jsx)("button",{type:"submit",className:"btn mt-2 w-full btn-primary"+(a?" loading":""),children:"Login"})]})}})]})]})})})}),(0,x.jsx)(i.A,{})]})}}}]);
//# sourceMappingURL=107.c388e2e1.chunk.js.map