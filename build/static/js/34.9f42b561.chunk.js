"use strict";(self.webpackChunkdev=self.webpackChunkdev||[]).push([[34],{5111:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(2483),r=t(3376),n=t(9517),o=t(2595),i=(t(1728),t(3117)),l=t(1222),d=t(9918),c=(t(5549),t(614),t(6976),t(4848)),u=t(7757),m=t(3074),p=t(3191),b=t(1914),x=(t(7650),t(82)),h=(t(5699),t(5442)),f=t(1935),g=(t(5989),t(6723));const j=()=>{const[e,s]=(0,a.useState)([]),[t,j]=(0,a.useState)([]),[w,S]=(0,a.useState)([]),v=(0,u.wA)(),[N,_]=(0,a.useState)({startDate:new Date,endDate:new Date}),y=JSON.parse(localStorage.getItem("authInfo"));(0,r.zy)();console.log("authInfo=",y);let[A,R]=(0,a.useState)(!1);const[k,D]=(0,a.useState)("");let[F,E]=(0,a.useState)(y?y.id:null);(0,r.Zp)();const{newNotificationMessage:I,newNotificationStatus:C}=(0,a.useState)(""),T="active-subscribed-subscriber";(0,a.useEffect)((()=>{""!==I&&(1===C&&b.hm.success(I,"Success"),0===C&&b.hm.error(I,"Error"),v((0,m.fd)())),q()}),[]),d.oR.configure();const q=()=>{l.A.get("admin/".concat(T)).then((t=>{if(t.data.status){d.oR.success(t.data.message,{position:"top-center",autoClose:3e3}),s(t.data.data);var a=t.data.data;let r=[];a.forEach((function(e){r.push({firstname:e.firstname,surname:e.surname,subscription_status:e.subscription_status,subscription_date:e.subscription_date})})),j([{name:"FIRST NAME",selector:(e,s)=>e.firstname,cell:e=>(0,g.jsx)("span",{children:e.firstname}),sortable:!0},{name:"LAST NAME",selector:(e,s)=>e.surname,cell:e=>(0,g.jsx)("span",{children:e.surname}),sortable:!0},{name:"DATE OF HVG SUBSCRIPTION",selector:(e,s)=>e.subscription_date,cell:e=>{const s=new Date(e.subscription_date),t=s.getDate(),a=s.toLocaleString("en-us",{month:"short"}),r=s.getFullYear(),n="".concat(t," ").concat(a,", ").concat(r);return(0,g.jsx)("span",{children:n})},sortable:!0},{name:"SUBSCRIPTION STATUS",selector:(e,s)=>e.subscription_status,cell:e=>(0,g.jsx)("span",{children:e.subscription_status}),sortable:!0}]),S(r),console.log(e)}})).catch((e=>{d.oR.dismiss(),e.response&&d.oR.error(e.response.data.message,{autoClose:3e3}),console.log(e)})),console.log("apiUrl="+T)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"drawer drawer-mobile",children:[(0,g.jsx)("input",{id:"left-sidebar-drawer",type:"checkbox",className:"drawer-toggle"}),(0,g.jsxs)("div",{className:"drawer-content flex flex-col ",children:[(0,g.jsx)(n.A,{}),(0,g.jsx)("main",{className:"flex-1 overflow-y-auto pt-2 px-2  bg-base-200",children:(0,g.jsxs)("div",{className:"bg-zinc-50 px-3 py-3 rounded-xl bg-white shadow-mx border border-zinc-200",children:[(0,g.jsx)("div",{className:"text-xl font-semibold py-1 px-2",children:"Active Subcripton of Subscriber"}),(0,g.jsx)("div",{className:"divider mt-2"}),(0,g.jsx)("div",{className:"",children:(0,g.jsx)("div",{className:"flex w-[100%] align-center",children:(0,g.jsx)(i.l1,{initialValues:{start_date:"",end_date:""},validationSchema:x.A,onSubmit:(t,a)=>{let{resetForm:r}=a;((t,a)=>{let{resetForm:r}=a;console.log("This is ambassador handleSubmit values check:",t);let n="active-subscribed-subscriber";t.start_date&&(n+="/"+t.start_date),t.end_date&&(n+="/"+t.end_date),l.A.get("admin/".concat(n),t).then((t=>{if(t.data.status){d.oR.success(t.data.message,{position:"top-center",autoClose:3e3}),s(t.data.data),console.log("userReport datewise:",t.data.data),console.log("userReport=",e);var a=t.data.data;let r=[];a.forEach((function(e){r.push({firstname:e.firstname,surname:e.surname,subscription_status:e.subscription_status,subscription_date:e.subscription_date})})),S(r)}})).catch((e=>{d.oR.dismiss(),e.response&&(r(),d.oR.error(e.response.data.message,{autoClose:3e3})),console.log(e)}))})(t,{resetForm:r})},children:e=>{let{resetForm:s}=e;return(0,g.jsxs)(i.lV,{className:"flex w-[100%] justify-between align-center py-3 rounded-sl bg-base-100 rounded px-2",children:[(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("label",{htmlFor:"start_date",children:"Start Date"}),(0,g.jsx)(i.D0,{name:"start_date",type:"date",className:"input input-bordered w-full"}),(0,g.jsx)(i.Kw,{name:"start_date",component:"div",className:"text-red-500 text-sm"})]}),(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("label",{htmlFor:"end_date",children:"End Date"}),(0,g.jsx)(i.D0,{name:"end_date",type:"date",className:"input input-bordered w-full"}),(0,g.jsx)(i.Kw,{name:"end_date",component:"div",className:"text-red-500 text-sm"})]}),(0,g.jsxs)("div",{className:"flex align-center justify-between mt-6",children:[(0,g.jsx)("button",{type:"submit",className:"btn btn-primary inline-block px-4 py-3 text-sm font-semibold text-center  text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",children:"Search"}),(0,g.jsx)("button",{type:"button",className:"btn btn-primary inline-block px-4 py-3 text-sm font-semibold text-center  text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",onClick:()=>(e=>{e(),q()})(s),children:"Reset"})]})]})}})})}),(0,g.jsx)("div",{className:"overflow-x-auto w-full",children:(0,g.jsx)(f.A,{columns:t,data:w,children:(0,g.jsx)(h.Ay,{title:"Table",noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,pagination:!0,highlightOnHover:!0,customStyles:{rows:{style:{minHeight:"50px"}},cells:{style:{whiteSpace:"nowrap"}}}})})})]})})]}),(0,g.jsx)(c.A,{})]}),(0,g.jsx)(p.A,{}),(0,g.jsx)(o.A,{})]})}},1728:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(947);const r=a.Ik().shape({email:a.Yj().email().required("Email is required"),password:a.Yj().required("Password is required.").min(6,"Password is too short - should be 6 chars minimum.").max(20,"Password is too long - should be 20 chars maximum.")})},82:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(947);const r=a.Ik().shape({start_date:a.p6().required("Start date is required"),end_date:a.p6().required("End date is required")})}}]);
//# sourceMappingURL=34.9f42b561.chunk.js.map