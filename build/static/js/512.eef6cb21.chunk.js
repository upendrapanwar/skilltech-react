"use strict";(self.webpackChunkdev=self.webpackChunkdev||[]).push([[512],{5512:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var r=a(2483),t=a(3376),i=a(9891),d=a(3373),n=a(2595),o=(a(1728),a(3117)),l=a(1222),c=a(9918),b=(a(5549),a(614),a(6976),a(1683)),u=a(7757),m=a(3074),p=a(1986),x=a(1914),f=(a(7650),a(82)),h=a(5699),j=a(6723);const S=()=>{const e=[{title:"Active Subcripton of Ambassador",url:"active-subscribed-ambassador"},{title:"Active Subscription of Subscriber",url:"active-subscribed-subscriber"},{title:"Defaulted Subscriptions Payments of Ambassador",url:"defaulted-subscription-paymentof-ambassador"},{title:"Defaulted Subscriptions Payments of Subscribers",url:"defaulted-subscription-paymentof-subscriber"},{title:"Subscription cancelled by Ambassador",url:"subscription-cancelledby-ambassador"},{title:"Subscription cancelled by Subscriber",url:"subscription-cancelledby-subscriber"},{title:"Referral Per Ambassador",url:"active-inactive-referral-per-ambassador"},{title:"Active Referral Per Ambassador",url:"active-referral-per-ambassador"},{title:"Inactive Referral Per Ambassador",url:"inactive-referral-per-ambassador"}],[s,a]=(0,r.useState)("/admin/active-subscribed-ambassador"),[S,A]=(0,r.useState)([]),[_,v]=(0,r.useState)([]),[g,N]=(0,r.useState)([]),[y,w]=(0,r.useState)([]),[C,R]=(0,r.useState)([]),[D,F]=(0,r.useState)([]),[U,L]=(0,r.useState)([]),[P,I]=(0,r.useState)([]),[k,V]=(0,r.useState)([]),[G,H]=(0,r.useState)([]),[z,E]=(0,r.useState)(0),K=(0,u.wA)(),[M,J]=(0,r.useState)({startDate:new Date,endDate:new Date}),O=JSON.parse(localStorage.getItem("authInfo"));(0,t.zy)();console.log("authInfo=",O);let[T,Z]=(0,r.useState)(!1);const[q,B]=(0,r.useState)("");let[Q,W]=(0,r.useState)(O?O.id:null);(0,t.Zp)();const{newNotificationMessage:X,newNotificationStatus:Y}=(0,r.useState)(""),$="active-subscribed-ambassador";(0,r.useEffect)((()=>{""!==X&&(1===Y&&x.hm.success(X,"Success"),0===Y&&x.hm.error(X,"Error"),K((0,m.fd)())),ee()}),[]),c.oR.configure();const ee=()=>{A($),l.A.get("admin/".concat($)).then((e=>{e.data.status&&(c.oR.success(e.data.message,{position:"top-center",autoClose:3e3}),v(e.data.data),console.log(_))})).catch((e=>{c.oR.dismiss(),e.response&&c.oR.error(e.response.data.message,{autoClose:3e3}),console.log(e)})),console.log("apiUrl="+$)};return console.log("userReport",_),console.log("activeSubscribedSubscriber",g),console.log("defaultedSubscriptionPaymentofambassador",y),console.log("defaultedSubscriptionPaymentofsubscriber",C),console.log("subscriptionCancelledbyAmbassador",D),console.log("subscriptionCancelledbySubscriber",U),console.log("ActiveInactiveReferralPerAmbassador",P),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"drawer drawer-mobile",children:[(0,j.jsx)("input",{id:"left-sidebar-drawer",type:"checkbox",className:"drawer-toggle"}),(0,j.jsxs)("div",{className:"drawer-content flex flex-col ",children:[(0,j.jsx)(d.A,{}),(0,j.jsx)("main",{className:"flex-1 overflow-y-auto pt-2 px-2  bg-base-200",children:(0,j.jsxs)("div",{className:"bg-zinc-50 px-3 py-3 rounded-xl bg-white shadow-mx border border-zinc-200",children:[(0,j.jsx)("div",{className:"text-xl font-semibold py-1 px-2",children:"Report"}),(0,j.jsx)("div",{className:"divider mt-2"}),(0,j.jsx)("div",{className:"",children:(0,j.jsx)("div",{className:"flex w-[100%] align-center",children:(0,j.jsx)(o.l1,{initialValues:{start_date:"",end_date:"",report_type:null},validationSchema:f.A,onSubmit:(s,r)=>{let{resetForm:t}=r;((s,r)=>{let{resetForm:t}=r;console.log(s),E(s.report_type);const i=e[s.report_type].url;var d=i;A(i),console.log("API url:",i),a("/admin/".concat(i)),s.start_date&&(d+="/"+s.start_date),s.end_date&&(d+="/"+s.end_date),l.A.get("admin/".concat(d),s).then((e=>{if(e.data.status){if(c.oR.success(e.data.message,{position:"top-center",autoClose:3e3}),"active-subscribed-ambassador"===i&&v(e.data.data),"active-subscribed-subscriber"===i&&N(e.data.data),"defaulted-subscription-paymentof-ambassador"===i){const s=e.data.data.filter((e=>null!==e.userid&&"cancel payment"===e.payment_status));w(s)}if("defaulted-subscription-paymentof-subscriber"===i){const s=e.data.data.filter((e=>null!==e.userid&&"cancel payment"===e.payment_status));R(s)}if("subscription-cancelledby-ambassador"===i){const s=e.data.data.filter((e=>null!==e.userId));F(s)}if("subscription-cancelledby-subscriber"===i){const s=e.data.data.filter((e=>null!==e.userId));L(s)}"active-inactive-referral-per-ambassador"===i&&I(e.data.data),"active-referral-per-ambassador"===i&&V(e.data.data),"inactive-referral-per-ambassador"===i&&H(e.data.data),console.log("reportApiUrl=",S)}})).catch((e=>{c.oR.dismiss(),e.response&&(t(),c.oR.error(e.response.data.message,{autoClose:3e3})),console.log(e)}))})(s,{resetForm:t})},children:e=>{let{resetForm:s}=e;return(0,j.jsxs)(o.lV,{className:"flex w-[100%] justify-between align-center py-3 rounded-sl bg-base-100 rounded px-2",children:[(0,j.jsxs)("div",{className:"flex flex-col",children:[(0,j.jsx)("label",{htmlFor:"start_date",children:"Start Date"}),(0,j.jsx)(o.D0,{name:"start_date",type:"date",className:"input input-bordered w-full max-w-xs"}),(0,j.jsx)(o.Kw,{name:"start_date",component:"div",className:"text-red-500 text-sm"})]}),(0,j.jsxs)("div",{className:"flex flex-col",children:[(0,j.jsx)("label",{htmlFor:"end_date",children:"End Date"}),(0,j.jsx)(o.D0,{name:"end_date",type:"date",className:"input input-bordered w-full max-w-xs"}),(0,j.jsx)(o.Kw,{name:"end_date",component:"div",className:"text-red-500 text-sm"})]}),(0,j.jsxs)("div",{className:"flex flex-col",children:[(0,j.jsx)("label",{htmlFor:"report_type",children:"Report Type"}),(0,j.jsxs)(o.D0,{as:"select",name:"report_type",id:"report_type",className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 w-64",children:[(0,j.jsx)("option",{value:"",children:"Select an option"}),(0,j.jsx)("option",{value:0,children:" Active Subscritpion of Ambassador"}),(0,j.jsx)("option",{value:1,children:" Active Subscription of Subscriber"}),(0,j.jsx)("option",{value:2,children:" Defaulted Subscription payment of Ambassador"}),(0,j.jsx)("option",{value:3,children:" Defaulted Subscription pyament of Subscriber"}),(0,j.jsx)("option",{value:4,children:" Cancellation of Subscription-Cancelled by Ambassador"}),(0,j.jsx)("option",{value:5,children:" Cancellation of Subscriptioin-Cancelled by Subcriber"}),(0,j.jsx)("option",{value:6,children:" Referral Per Ambassador"}),(0,j.jsx)("option",{value:7,children:" Active Referral Per Ambassador"}),(0,j.jsx)("option",{value:8,children:" Inactive Referral Per Ambassador"})]}),(0,j.jsx)(o.Kw,{name:"report_type",component:"div",className:"text-red-500 text-sm"})]}),(0,j.jsxs)("div",{className:"flex align-center justify-between mt-6",children:[(0,j.jsx)("button",{type:"submit",className:"btn btn-primary inline-block px-4 py-3 text-sm font-semibold text-center  text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",children:"Search"}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary inline-block px-4 py-3 text-sm font-semibold text-center  text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",onClick:()=>(e=>{e(),ee()})(s),children:"Reset"})]})]})}})})}),(0,j.jsx)(h.A,{title:e[z].title,topMargin:"mt-2",children:(0,j.jsx)("div",{className:"overflow-x-auto w-full",children:(0,j.jsxs)("table",{className:"table w-full",children:[(0,j.jsx)("thead",{children:[["Ambassador First Name","Ambassador Last Name","Ambassador Referral Code","Date of HVG subscription","Subscription Status","Date of ambassador sign up"],["Subscriber First Name","Subscriber Last Name","Date of HVG subscription","Subscription Status"],["Ambassador First Name","Ambassador Last Name","Ambassador Referral Code","Payment Failure Reason"],["Subscriber First Name","Subscriber Last Name","Payment Failure Reason"],["Ambassador First Name","Ambassador Last Name","Ambassador Referral Code","Date of HVG subscription Cancellation"],["Subscriber First Name","Subscriber Last Name","Date of HVG subscription Cancellation"],["Subscriber First Name","Subcriber Last Name","Ambassador Referral Code Used ","Referred Ambassador First Name","Referred Ambassador Last Name","\tDate of use of referral code","HVG Subscription status"],["Subscriber First Name","Subcriber Last Name","Ambassador Referral Code Used ","Referred Ambassador First Name","Referred Ambassador Last Name","\tDate of use of referral code"],["Subscriber First Name","Subcriber Last Name","Ambassador Referral Code Used ","Referred Ambassador First Name","Referred Ambassador Last Name","\tDate of use of referral code"]][z].map(((e,s)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("td",{children:e},s)})))}),(0,j.jsxs)("tbody",{children:[console.log("reportApiUrl=",S),console.log("userReport=",_),"active-subscribed-ambassador"===S&&_.length>0&&_.map(((e,s)=>(0,j.jsxs)("tr",{children:[""!==e.firstname&&(0,j.jsxs)("td",{children:[e.firstname?e.firstname.toUpperCase():"N/A"," "]}),""!==e.surname&&(0,j.jsx)("td",{children:e.surname?e.surname.toUpperCase():"N/A"}),""!==e.referral_code&&(0,j.jsx)("td",{children:e.referral_code?e.referral_code:"N/A"}),""!==e.subscription_date&&(0,j.jsx)("td",{children:e.subscription_date?new Date(e.subscription_date).toLocaleDateString():"N/A"}),(0,j.jsx)("td",{children:"Active"}),""!==e.ambassador_date&&(0,j.jsx)("td",{children:e.ambassador_date?new Date(e.ambassador_date).toLocaleDateString():"N/A"})]},s))),"active-subscribed-subscriber"===S&&g&&g.map(((e,s)=>(0,j.jsxs)("tr",{children:[(0,j.jsxs)("td",{children:[e.firstname?e.firstname.toUpperCase():"N/A"," "]}),(0,j.jsx)("td",{children:e.surname?e.surname.toUpperCase():"N/A"}),(0,j.jsx)("td",{children:e.subscription_date?new Date(e.subscription_date).toLocaleDateString():"N/A"}),(0,j.jsx)("td",{children:"Active"})]},s))),"defaulted-subscription-paymentof-ambassador"===S&&y&&y.map(((e,s)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.userid.firstname.toUpperCase()}),(0,j.jsx)("td",{children:e.userid.surname.toUpperCase()}),(0,j.jsx)("td",{children:e.userid.referral_code}),(0,j.jsx)("td",{children:e.payment_status})]},s)}))),"defaulted-subscription-paymentof-subscriber"===S&&C&&C.map(((e,s)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.userid.firstname.toUpperCase()}),(0,j.jsx)("td",{children:e.userid.surname.toUpperCase()}),(0,j.jsx)("td",{children:e.payment_status})]},s)}))),"subscription-cancelledby-ambassador"===S&&D.map(((e,s)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.userId.firstname.toUpperCase()}),(0,j.jsx)("td",{children:e.userId.surname.toUpperCase()}),(0,j.jsx)("td",{}),(0,j.jsx)("td",{children:e.cancellation_date})]},s)}))),"subscription-cancelledby-subscriber"===S&&U.map(((e,s)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.userId.firstname.toUpperCase()}),(0,j.jsx)("td",{children:e.userId.surname.toUpperCase()}),(0,j.jsx)("td",{children:e.cancellation_date})]},s)}))),"active-inactive-referral-per-ambassador"===S&&P.map(((e,s)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.Subscriber_firstname}),(0,j.jsx)("td",{children:e.Subscriber_lastname}),(0,j.jsx)("td",{children:e.Ambassador_referralcode}),(0,j.jsx)("td",{children:e.Ambassador_firstname}),(0,j.jsx)("td",{children:e.Ambassador_lastname}),(0,j.jsx)("td",{children:e.Date_of_use_of_referral_code}),(0,j.jsx)("td",{children:e.HVG_Subscription_status})]},s)}))),"active-referral-per-ambassador"===S&&k.map(((e,s)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.Subscriber_firstname}),(0,j.jsx)("td",{children:e.Subscriber_lastname}),(0,j.jsx)("td",{children:e.Ambassador_referralcode}),(0,j.jsx)("td",{children:e.Ambassador_firstname}),(0,j.jsx)("td",{children:e.Ambassador_lastname}),(0,j.jsx)("td",{children:e.Date_of_use_of_referral_code})]},s)}))),"inactive-referral-per-ambassador"===S&&G.map(((e,s)=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.Subscriber_firstname}),(0,j.jsx)("td",{children:e.Subscriber_lastname}),(0,j.jsx)("td",{children:e.Ambassador_referralcode}),(0,j.jsx)("td",{children:e.Ambassador_firstname}),(0,j.jsx)("td",{children:e.Ambassador_lastname}),(0,j.jsx)("td",{children:e.Date_of_use_of_referral_code})]},s)}))),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{style:{"text-align":"right"},colspan:"6",children:(0,j.jsx)(i.N_,{className:"inline-block px-4 py-3 text-sm font-semibold text-center text-white uppercase transition duration-200 ease-in-out bg-indigo-600 rounded-md cursor-pointer hover:bg-indigo-700",to:s,children:"View More"})})})]})]})})})]})})]}),(0,j.jsx)(b.A,{})]}),(0,j.jsx)(p.A,{}),(0,j.jsx)(n.A,{})]})}}}]);
//# sourceMappingURL=512.eef6cb21.chunk.js.map